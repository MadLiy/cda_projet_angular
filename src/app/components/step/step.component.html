<div class="steps-container">
  <div class="steps-header">
    <h3>üó∫Ô∏è √âtapes du voyage</h3>
    <button mat-raised-button color="primary" (click)="openStepForm()">
        ‚ûï Ajouter une √©tape
    </button>
</div>

  @if (loading()) {
    <div>Chargement des √©tapes...</div>
  }

  @if (error()) {
    <div class="error">{{ error() }}</div>
  }

<div class="kanban">
  @for (step of steps(); track step.id) {
    <div class="step-column">
      <h4>{{ step.name }}</h4>
      <div class="step-actions">
        <button mat-stroked-button color="primary" (click)="openStepForm(step)">
          Modifier
        </button>
        <button mat-stroked-button color="warn" (click)="confirmDelete(step.id)">
          Supprimer
        </button>
      </div>

      @if (!step.activities || step.activities.length === 0) {
        <div class="empty">Aucune activit√© pr√©vue</div>
      }

      <app-activity-component
        [travelId]="travelId"
        [stepId]="step.id">
      </app-activity-component>

    </div>
  }
</div>
</div>
